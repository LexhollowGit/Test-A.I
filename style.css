:root{
  --bg:#0e1014; --panel:#151922; --muted:#9aa3b2; --text:#e6e9ef;
  --accent:#7aa2f7; --accent-2:#a6da95; --danger:#ef5d5d; --bubble:#1a1f2b;
  --radius:18px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
  background: radial-gradient(1200px 600px at 20% -10%, #1b2030 0%, #0e1014 60%),
              radial-gradient(900px 500px at 120% 10%, #121826 0%, #0e1014 60%);
  color:var(--text);
  display:flex; flex-direction:column;
}

.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid #232838; background:rgba(10,12,16,.6);
  position:sticky; top:0; backdrop-filter:blur(8px); z-index:10;
}
.title{display:flex; align-items:center; gap:10px}
.title .logo{font-size:22px}
.title h1{font-size:18px; margin:0}
.title .tag{font-size:12px; color:var(--muted)}

.controls{display:flex; gap:8px; flex-wrap:wrap}
.controls select, .controls button{
  background:var(--panel); color:var(--text); border:1px solid #2a3144;
  border-radius:12px; padding:8px 10px; font-size:13px; cursor:pointer;
}
.controls .danger{border-color:#3e2327; background:#251418; color:#ffb3b3}

.chat{
  max-width:920px; width:100%; margin:20px auto; padding:0 14px;
  display:flex; flex-direction:column; min-height:0; flex:1;
}
.messages{
  list-style:none; margin:0; padding:0; display:flex; flex-direction:column;
  gap:10px; overflow-y:auto; padding-bottom:14px;
}
.msg{display:flex; gap:10px; align-items:flex-end}
.msg .bubble{
  background:var(--bubble); border:1px solid #2a3144; padding:12px 14px;
  border-radius:16px; max-width:80%; line-height:1.4; white-space:pre-wrap;
}
.msg.user{justify-content:flex-end}
.msg.user .bubble{background:#1f2a3c; border-color:#33415e}
.msg.bot .bubble{background:#171c28}
.msg .meta{font-size:11px; color:var(--muted); margin-top:4px}

#composer{
  display:flex; gap:10px; margin-top:auto; padding-top:10px;
  border-top:1px solid #232838;
}
#user-input{
  flex:1; background:var(--panel); color:var(--text);
  border:1px solid #2a3144; border-radius:var(--radius);
  padding:12px 14px; font-size:15px; outline:none;
}
#user-input:focus{border-color:var(--accent)}
#send{
  background:linear-gradient(180deg,var(--accent),#628de9);
  border:none; color:#0b0f18; font-weight:700;
  border-radius:14px; padding:0 18px; font-size:14px; cursor:pointer;
}

.typing{display:flex; gap:6px; padding:6px 0; align-items:center}
.hidden{display:none}
.dot{
  width:8px; height:8px; background:#3b4262; border-radius:50%;
  animation:blink 1.1s infinite ease-in-out;
}
.dot:nth-child(2){animation-delay:.15s}
.dot:nth-child(3){animation-delay:.3s}
@keyframes blink{
  0%, 80%, 100%{opacity:.2; transform:translateY(0)}
  40%{opacity:1; transform:translateY(-3px)}
}

.app-footer{padding:10px 16px; text-align:center; color:var(--muted); border-top:1px solid #232838}
code.k{padding:2px 6px; background:#1b2335; border:1px solid #2a3144; border-radius:8px}
kbd{background:#101523; border:1px solid #2a3144; border-radius:6px; padding:2px 6px; font-size:12px}
